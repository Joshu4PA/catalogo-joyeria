<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Joyería de Tradición - Catálogo</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#14241b;
  --bg-deep:#1c3226;
  --muted:#b3c4b8;
  --accent:#c9ad73;
  --text:#eef5f0;
  --green:#7fbf9a;
  --red:#c98a8a;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:Inter;
  background:linear-gradient(180deg,var(--bg),var(--bg-deep));
  color:var(--text);
}

header{
  text-align:center;
  padding:26px 20px;
  border-bottom:1px solid rgba(201,173,115,.14);
}

.brand-logo{
  width:140px;
  height:140px;
  object-fit:contain;
}

h1{
  font-family:'Playfair Display';
  margin:10px 0 6px;
}

.lead{
  letter-spacing:3px;
  font-size:12px;
  color:var(--muted);
}

.grid{
  padding:24px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:22px;
}

.card{
  background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.015));
  border:1px solid rgba(201,173,115,.16);
  border-radius:18px;
  padding:18px;
  text-align:center;
  position:relative;
}

.badge{
  position:absolute;
  top:12px;
  left:12px;
  font-size:12px;
  padding:6px 10px;
  border-radius:10px;
  border:1px solid rgba(201,173,115,.35);
  background:rgba(15,26,20,.8);
}

.ring-thumb img{
  width:100%;
  height:170px;
  object-fit:cover;
  border-radius:14px;
}

.name{
  margin-top:12px;
  font-family:'Playfair Display';
  color:var(--accent);
  font-size:18px;
}

.tags{
  margin-top:10px;
  display:flex;
  gap:8px;
  justify-content:center;
  flex-wrap:wrap;
}

.tag{
  font-size:11px;
  padding:6px 10px;
  border-radius:999px;
  background:rgba(255,255,255,.05);
  color:var(--muted);
}

.tag.stock-ok{color:var(--green);border:1px solid rgba(127,191,154,.4)}
.tag.stock-no{color:var(--red);border:1px solid rgba(201,138,138,.4)}

.btn{
  margin-top:16px;
  padding:12px 16px;
  border-radius:12px;
  border:none;
  cursor:pointer;
  font-weight:600;
  background:linear-gradient(90deg,#c2a565,#e6d0a2);
  color:#1a1a1a;
  width:100%;
}

.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center;
  padding:20px;
  z-index:50;
}

.modal.show{display:flex}

.modal-card{
  max-width:420px;
  width:100%;
  background:#15261d;
  border-radius:20px;
  padding:22px;
  text-align:center;
  border:1px solid rgba(201,173,115,.28);
}

.modal-card img{
  width:100%;
  border-radius:16px;
}

.modal-name{
  font-family:'Playfair Display';
  color:var(--accent);
  font-size:22px;
  margin:14px 0 6px;
}
</style>
</head>

<body>

<header>
  <img src="logo.png" class="brand-logo">
  <h1>Joyería de Tradición</h1>
  <p class="lead">CATÁLOGO — ANILLOS DE ORO</p>
</header>

<section class="grid" id="catalog"></section>

<div class="modal" id="modal">
  <div class="modal-card">
    <img id="mImg">
    <div class="modal-name" id="mName"></div>
    <p id="mStatus" style="color:var(--muted)"></p>
    <div id="mBtns"></div><br>
    <button class="btn" onclick="modal.classList.remove('show')" style="background:none;color:var(--text)">Cerrar</button>
  </div>
</div>

<script>
const API="https://script.google.com/macros/s/AKfycbytNC6Y1fcmeY0La83kUsHT38LqjImIRzZIUN7CU4k1-XyQALsHGzDFqZvcnjmmo2CaoA/exec";

const rings=[
 {name:"Éclat",img:"1.jpg",tags:["Clásico","Pulido"]},
 {name:"Aurora",img:"2.jpg",tags:["Media caña","Bisel"]},
 {name:"Linea",img:"3.jpg",tags:["Minimal","Texturado"]},
 {name:"Halo",img:"4.jpg",tags:["Engaste","Decorativo"]},
 {name:"Bruma",img:"5.jpg",tags:["Mate","Plano"]},
 {name:"Solace",img:"6.jpg",tags:["Pulido","Elegante"]},
 {name:"Aura",img:"7.jpg",tags:["Geométrico","Moderno"]},
 {name:"Imperial",img:"8.jpg",tags:["Pulido","Bordes dobles"]}
];

fetch(API)
.then(r=>r.json())
.then(stock=>{
 const grid=document.getElementById("catalog");

 rings.forEach(r=>{
  const ok = stock[r.name]==1;

  grid.innerHTML+=`
  <div class="card">
    <div class="badge">18K</div>
    <div class="ring-thumb"><img src="${r.img}"></div>
    <div class="name">${r.name}</div>
    <div class="tags">
      ${r.tags.map(t=>`<div class="tag">${t}</div>`).join("")}
      <div class="tag ${ok?'stock-ok':'stock-no'}">
        ${ok?'STOCK LIVE':'SIN STOCK LIVE'}
      </div>
    </div>
    <button class="btn" onclick="openModal('${r.name}',${ok})">CONSULTAR</button>
  </div>`;
 });
});

function openModal(name,hasStock){
 modal.classList.add("show");
 const ring=rings.find(r=>r.name===name);

 mImg.src=ring.img;
 mName.textContent=name;
 mStatus.textContent="Fabricamos todas las tallas. Puedes pedir stock o mandar a fabricar.";

 mBtns.innerHTML=`
  ${hasStock ? `<button class="btn" onclick="pedido('${name}','STOCK')">PEDIR STOCK</button><br><br>` : ``}
  <button class="btn" onclick="pedido('${name}','MEDIDA')">PEDIR A FABRICAR</button>
 `;
}

function pedido(modelo,tipo){
 fetch(API,{
  method:"POST",
  headers:{'Content-Type':'application/json'},
  body:JSON.stringify({
    modelo,
    tipo,
    estado: tipo==="STOCK" ? "SEPARADO" : "A FABRICAR",
    origen:"CATÁLOGO LIVE"
  })
 });

 const msg = tipo==="STOCK"
  ? `Hola, quiero separar el anillo ${modelo} que vi en el live.`
  : `Hola, quiero el anillo ${modelo} a fabricar en mi talla.`;

 window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`);
}
</script>

</body>
</html>


